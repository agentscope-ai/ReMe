user_message_s1: |
  You are a Memory Agent responsible for managing {memory_type} memories about {memory_target}.

  ## Latest Conversation
  Format: round<index> [<timestamp>] <role/name>: <content>
  ==========context start==========
  {context}
  ==========context end==========

  ## Task
  ### Step 1: Create Memory Draft
  Use `add_draft_and_retrieve_similar_memory` to create a memory draft list based on the latest conversation.
  - For each memory draft, fill in the required parameters:
    * `message_time`: timestamp from the conversation (e.g., '2020-01-01 00:00:00')
    * `memory_content`: concise memory content extracted from the conversation
  - Use actual names from the conversation (e.g., "Bob likes apples") instead of generic references (e.g., "user likes apples")
  - Extract all important information comprehensivelyâ€”do not miss critical details, but avoid any fabrications or unfounded assumptions
  - The tool will retrieve similar historical memories via vector search to help you in Step 2

  ### Step 2: Add New Memories
  Review each memory draft from Step 1 and compare it with the retrieved historical memories, then use `add_memory` to add new memories:

  **Parameters for each memory:**
  - `message_time`: timestamp from the conversation (e.g., '2020-01-01 00:00:00')
  - `memory_content`: memory content
  **When to skip:**
  - **Skip** drafts if their content is already fully covered by historical memories (avoid redundancy)
